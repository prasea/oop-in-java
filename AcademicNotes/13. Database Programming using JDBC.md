# Unit 13: Database Programming Using JDBC (2 Hrs)

*(BCA â€“ Tribhuvan University | Examination Notes)*


## 1. Introduction to JDBC

**JDBC (Java Database Connectivity)** is a **standard Java API** that enables Java programs to **connect to databases, execute SQL statements, and process results**.

### Purpose of JDBC

* Connect Java applications with databases
* Perform **CRUD operations** (Create, Read, Update, Delete)
* Make Java programs database-independent


## 2. JDBC Architecture (Conceptual)

### Components of JDBC

1. **Java Application**
2. **JDBC API**
3. **JDBC Driver**
4. **Database**

### JDBC Driver

A **JDBC driver** is a software component that allows Java applications to communicate with a database.

Example:

```java
com.mysql.cj.jdbc.Driver
```


## 3. Steps to Connect Java Application with Database (Very Important for Exam)

1. Load JDBC Driver
2. Establish Connection
3. Create Statement
4. Execute SQL Query
5. Process ResultSet
6. Close Connection


## 4. `Connection` Interface

### Definition

The **`Connection` interface** represents a **session between a Java program and a database**.

### Package

```java
java.sql.Connection
```

### Purpose of Connection

* Establishes database connectivity
* Manages transactions
* Creates Statement objects

### Creating a Connection

```java
Connection con = DriverManager.getConnection(
  "jdbc:mysql://localhost:3306/testdb",
  "root",
  "password"
);
```

### Important Methods

* `createStatement()`
* `close()`
* `commit()`
* `rollback()`


## 5. `Statement` Interface

### Definition

The **`Statement` interface** is used to **execute SQL queries** against the database.

### Types of Statements (Exam Point)

1. **Statement**
2. PreparedStatement
3. CallableStatement

*(Syllabus focuses on Statement)*


### Creating a Statement Object

```java
Statement stmt = con.createStatement();
```

### Executing SQL Statements

#### 1. `executeQuery()`

Used for **SELECT** queries.

```java
ResultSet rs = stmt.executeQuery("SELECT * FROM student");
```

#### 2. `executeUpdate()`

Used for **INSERT, UPDATE, DELETE**.

```java
stmt.executeUpdate(
 "INSERT INTO student VALUES(1,'Ram')"
);
```


## 6. `ResultSet` Interface

### Definition

The **`ResultSet` interface** represents the **data returned by a SELECT query**.

### Characteristics

* Maintains a cursor pointing to current row
* Initially positioned **before the first row**

### Accessing ResultSet Data

```java
while(rs.next()) {
  System.out.println(
    rs.getInt(1) + " " + rs.getString(2)
  );
}
```

### Common Methods

* `next()`
* `getInt()`
* `getString()`
* `getDouble()`


## 7. Simple JDBC Program Example (Exam-Ready)

```java
import java.sql.*;

public class JdbcExample {
  public static void main(String[] args) {
    try {
      Class.forName("com.mysql.cj.jdbc.Driver");

      Connection con = DriverManager.getConnection(
        "jdbc:mysql://localhost:3306/testdb",
        "root",
        "password"
      );

      Statement stmt = con.createStatement();

      ResultSet rs =
        stmt.executeQuery("SELECT * FROM student");

      while(rs.next()) {
        System.out.println(
          rs.getInt("id") + " " +
          rs.getString("name")
        );
      }

      con.close();
    } catch(Exception e) {
      System.out.println(e);
    }
  }
}
```


## 8. Data Manipulation Using JDBC

### Insert Data

```java
stmt.executeUpdate(
 "INSERT INTO student VALUES(2,'Sita')"
);
```

### Update Data

```java
stmt.executeUpdate(
 "UPDATE student SET name='Hari' WHERE id=1"
);
```

### Delete Data

```java
stmt.executeUpdate(
 "DELETE FROM student WHERE id=2"
);
```


## 9. Advantages of JDBC

* Platform independent
* Database independent
* Secure data access
* Supports multiple databases


## 10. Limitations of JDBC

* Requires database drivers
* SQL knowledge required
* Manual resource management


## 11. Common JDBC Exceptions

| Exception                | Description      |
| ------------------------ | ---------------- |
| `SQLException`           | Database error   |
| `ClassNotFoundException` | Driver not found |


## Summary

* JDBC connects Java with databases
* `Connection` establishes database session
* `Statement` executes SQL queries
* `ResultSet` stores query results
* Used for database-driven applications

